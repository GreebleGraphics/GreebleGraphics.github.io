<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Jennifer Hachigian">
   <meta name="GENERATOR" content="Mozilla/4.61 [en] (WinNT; I) [Netscape]">
   <title>3.1 -- Weight Maps Pt. 1</title>
<link REL=StyleSheet HREF="../../style.css" TYPE="text/css">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#FF0000" vlink="#800080" alink="#0000FF">

<h3>
The Torso - Weight Maps (Stage 1)</h3>
Now is a good time to start applying some weight maps. This mesh is still
simple, so it will be easier to select the areas that you want to select.
Also, geometry created from existing geometry will inherit the weight maps
of the original geometry.
<p>
<hr SIZE=1 WIDTH="100%">
<blockquote><b>Note</b>: Arms, legs, and breasts can be Smooth Shifted
("created") from this torso ("existing geometry"). One does not have to
spline <i>everything</i>.</blockquote>

<hr SIZE=1 WIDTH="100%">
<p>By itself, a weight map does nothing to your object. It contains information,
and it adds this extra information to your object file, but that's it.&nbsp;
Unless a bone or deformation tool specifically references a weight map,
it cannot affect anything in Modeler or Layout. So, don't worry about creating
weight maps before you have anything that can use it!
<p>
<hr SIZE=1 WIDTH="100%">
<blockquote><b>Note</b>: In Layout, weight maps act like "alpha maps" for
bones and other deformation tools, restricting their influence to only
those points marked with values lower or greater than 0.0% on the weight
map.</blockquote>

<hr SIZE=1 WIDTH="100%">
<p><b>STEP 1</b>: Load <b>torso05.lwo</b> into Modeler (if you did not
follow the previous sections and just want some weight mapping practice,
you may load <b>torso05.lwo</b> off the CD-ROM). Ignore the spline layers.
Go to the layer that contains the left half of the torso.
<p><b>STEP 2</b>: In the Perspective view, left-click on the square "arrow"
button on the toolbar (the one next to the long, rectangular "arrow" button
that contains the word "Perspective") This button takes you to a drop-down
list that lets you change the way the window displays information. Right
now you want to see Weight Map information, so select "Weight Shade" from
the list (<b><font color="#CC0000"><a href="Fig001.gif">Figure 1</a></font></b>).
<br>&nbsp;
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig001.gif"><img SRC="small/s_Fig001.GIF" ALT="Figure 1" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 1</b></td>

<td VALIGN=BOTTOM><a href="Fig002.gif"><img SRC="small/s_Fig002.GIF" ALT="Figure 2" NOSAVE BORDER=1 height=177 width=200></a>
<br><b>Figure 2</b></td>
</tr>
</table>

<p><b>STEP 3</b>: Let's create a weight map for a future neck bone. Two
"rows" of polygons form the neck. Go into Polygon Selection Mode. In the
Right View, select the lower row of polygons. (<b><font color="#CC0000"><a href="Fig002.gif">Figure
2</a></font></b>)
<p><b>STEP 4</b>: In the lower-right corner of Modeler, underneath the
Right View, notice these four buttons: W, T, M, and "(none)." These buttons
stand for Weight Maps, Texture Maps, and Morph Maps, respectively. Right
now you want to create a weight map, so W should be highlighted (if it
is not highlighted, left-click on it to highlight it).
<p><b>STEP 5</b>: With the four polygons still selected from Step 3, left-click
on the "(none)" button. This will activate a drop-down list (Figure 10-68)
that lets you see each of the maps in this object
<p>
<hr SIZE=1 WIDTH="100%">
<blockquote><b>Note</b>: Ignore the unique map called "SubPatch Weight"
for this tutorial. "SubPatch Weight" is a default map that comes with every
object - it cannot be deleted or renamed. Modeler uses the weight values
in "SubPatch Weight" as a guide for sharpening/flattening the vertexes
of a SubPatch surface.</blockquote>

<hr SIZE=1 WIDTH="100%">
<p>Select "(new)" from this list. A dialog box called "Create Weight Map"
will appear. (<b><font color="#CC0000"><a href="Fig003.gif">Figure 3</a></font></b>)
Type in "Neck" for the name, leave the Initial Value checkbox checked,
leave the Initial Value setting at its default of 100.0%, and click on
"OK." The points that form the selected polygons will now have values of
100.0% on this weight map. All the other points are still at their default
Vertex Map Value of 0.0%.
<p><a href="Fig003.gif"><img SRC="small/s_Fig003.GIF" ALT="Figure 3" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 3</b>
<p>Notice that the Weight Shade display in the Perspective view describes
a weight map with color - a neutral green for values of 0.0%, and a bright
orange for values of 100.0%.
<p>
<hr SIZE=1 WIDTH="100%">
<blockquote><b>Note</b>: A weight map not only shows which points should
be affected by deformation; it also shows which points should <i>not</i>
be affected. A value of 0.0% has as much impact on a bone's influence as
a value of 100.0%. Without a weight map, a bone affects <i>all</i> points.
When a map is assigned to a bone, the bone will not touch those points
marked as 0.0% on the map. When creating weight maps, the weight value
of 0.0% is the key to keeping bones from influencing the wrong points.
(All other values just tell the bone how much of its influence will apply
to a point).</blockquote>

<hr SIZE=1 WIDTH="100%">
<p><b>STEP 6</b>: Deselect everything. In the Back View, select the outer
half of the stump of the arm. (<b><font color="#CC0000"><a href="Fig004.gif">Figure
4</a></font></b>) Left-click again on the drop-down list button, and select
"(new)" to create a new weight map. Type in "Left Arm" for the name, leaving
Initial Value checked and at 100.0%. Click on "OK." In the Perspective
View, the orange highlights around the neck will seem to disappear and
reappear around the stump of the left arm. Don't worry. Your "Neck" map
still exists -- but the current weight map has been set to the last one
you just created: "Left Arm."
<p>To see what each of the different maps look like in your object, left-click
on the drop-down list next to the W, T, and M buttons. Select the name
of the map you want to see. "(none)" will show you exactly that - nothing.
"Neck" will show you the Neck weight map, and "Left Arm" will show you
the weight map for the left arm. "(new)" lets you quickly create a new
weight map, assigning a flat value to the points of the geometry you have
selected.
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig004.gif"><img SRC="small/s_Fig004.GIF" ALT="Figure 4" NOSAVE BORDER=1 height=177 width=200></a>
<br><b>Figure 4</b></td>

<td VALIGN=BOTTOM><a href="Fig005.gif"><img SRC="small/s_Fig005.GIF" ALT="Figure 5" NOSAVE BORDER=1 height=177 width=200></a>
<br><b>Figure 5</b></td>
</tr>
</table>

<p><b>STEP 7</b>: Deselect everything. Select the twelve polygons that
form the lower part of the "rib cage" area. Create a weight map called
"Torso" for these selected polygons - again with the Initial Value checked
and left at 100%. (<b><font color="#CC0000"><a href="Fig005.gif">Figure
5</a></font></b>)
<p><b>STEP 8</b>: Let's edit the Torso map so that it includes the lowest
row of points defining the neck. Because you have just created the Torso
map, it should still be set as the current map in the map drop-down list.
(If not, select "Torso" from the map drop-down list in the lower-right
corner of Modeler now). In Points Selection Mode, select the five points
that form the lowest row of points in the neck. (<b><font color="#CC0000"><a href="Fig006.gif">Figure
6</a></font></b>)
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig006.gif"><img SRC="small/s_Fig006.GIF" ALT="Figure 6" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 6</b></td>

<td VALIGN=BOTTOM><a href="Fig007.gif"><img SRC="small/s_Fig007.GIF" ALT="Figure 7" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 7</b></td>
</tr>
</table>

<p><b>STEP 9</b>: Left-click on the Map tab at the top of Modeler. Then
left-click on the "More" drop-down list underneath "General" on the left
side of Modeler. Select "Set Vertex Map Value..."&nbsp; and the Set Vertex
Map Value dialog box will appear. Leave the Vertex Map setting in the drop-down
list as Torso, but set Value 1 to 100%. (<b><font color="#CC0000"><a href="Fig007.gif">Figure
7</a></font></b>) Click on "OK." For this Torso map, you have just assigned
values of 100% to the lowest five points of the neck - and this will be
reflected in the weight-shaded display of the Torso map. Notice that orange
highlights now surround the points in the Perspective window. (<b><font color="#CC0000"><a href="Fig008.gif">Figure
8</a></font></b>)
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig008.gif"><img SRC="small/s_Fig008.GIF" ALT="Figure 8" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 8</b></td>

<td VALIGN=BOTTOM><a href="Fig009.gif"><img SRC="small/s_Fig009.GIF" ALT="Figure 9" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 9</b></td>
</tr>
</table>

<p><b>STEP 10</b>: Deselect everything. In Polygon Selection Mode, select
the eight polygons that form the outer part of the "dip" in the upper part
of the shoulder. (<b><font color="#CC0000"><a href="Fig009.gif">Figure
9</a></font></b>) Create a Weight Map called "Left Clavicle," with values
of 100.0% for the points that form these eight polygons.
<p>Notice that the "Left Clavicle" weight map overlaps with the "Left Arm"
weight map. This means that the five points of the "overlapped" section
will be affected by both the bones assigned the "Left Clavicle" weight
map and the bones assigned the "Left Arm" weight map - a "tug-o-war" between
the two sets of bones.
<p>"Sharing" points between bones can soften the look of a joint. When
one group of bones has just as much "right" to move a set of points as
another group of bones, LightWave will do its best to split the difference.
To a literal-minded computer, it is only fair.
<p><b>STEP 11</b>: Let's adjust the Torso map so that it, too, will have
a softness when the left arm bends at the shoulder joint. In the map drop-down
list at the lower right-hand corner of Modeler, make "Torso" the current
map. Go into Points Selection Mode. In the Back View, select the three
lowest points at the center of the arm stump. (<b><font color="#CC0000"><a href="Fig010.gif">Figure
10</a></font></b>) These points have already been assigned values of 100.0%
in the Left Arm map - let's mark them with values of 100.0% in the Torso
Map, too.
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig010.gif"><img SRC="small/s_Fig010.GIF" ALT="Figure 10" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 10</b></td>

<td VALIGN=BOTTOM><a href="Fig011.gif"><img SRC="small/s_Fig011.GIF" ALT="Figure 11" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 11</b></td>
</tr>
</table>

<p><b>STEP 12</b>: Use <b>Map > General > More > Set Vertex Map Value</b>
to assign values of 100.0% to these points. The points should now be highlighted
orange in the Weight Shade display of the Perspective window.
<p>All the points of the upper torso now belong to one weight map or another.
Let's get to the lower half of this torso.
<p><b>STEP 13</b>: Deselect everything. Select the two rows of polygons
that form the waist (as seen in <b><font color="#CC0000"><a href="Fig011.gif">Figure
11</a></font></b>). Create a weight map called "Waist," assigning values
of 100.0% to the selected geometry.
<p><b>STEP 14</b>: Deselect everything. Select the entire hip section (everything
below the waist). Create a weight map called "Hips" with values of 100.0%
assigned to the selected geometry. (<b><font color="#CC0000"><a href="Fig012.gif">Figure
12</a></font></b>)
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=2 WIDTH="500" >
<tr>
<td VALIGN=BOTTOM><a href="Fig012.gif"><img SRC="small/s_Fig012.GIF" ALT="Figure 12" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 12</b></td>

<td VALIGN=BOTTOM><a href="Fig013.gif"><img SRC="small/s_Fig013.GIF" ALT="Figure 13" NOSAVE BORDER=1 height=151 width=200></a>
<br><b>Figure 13</b></td>
</tr>
</table>

<p><b>STEP 15</b>: Make sure that Hips is the current weight Map in the
Maps drop-down list. Use <b>Map > General > Copy Map</b> to bring up the
Copy Vertex Map dialog box. When asking for a name for the new vertex map,
Copy Vertex Map will suggest a name similar to that of the current weight
map ("Hips 1" instead of the original "Hips"). Replace that name with "Left
Leg" instead, and click on "OK." You have just created a new weight map
called "Left Leg," with identical values to the "Hips" map. (<b><font color="#CC0000"><a href="Fig013.gif">Figure
13</a></font></b>)
<p><b>STEP 16</b>: Save this model as <b>torso06.lwo</b>.
<p><a href="../../contents.htm">Table of Contents</a>
</body>
</html>
